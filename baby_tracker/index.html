<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#4CAF50">
    <meta name="description" content="宝宝生活记录应用 - 记录宝宝的日常活动，包括吃奶、睡眠、体温等">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="宝宝记录">
    <link rel="apple-touch-icon" href="images/icon-180.png">
    <link rel="icon" href="images/icon-192.png" type="image/png">
    <link rel="manifest" href="manifest.json">
    <title>宝宝记录 - 育儿助手</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- 应用容器 -->
    <div id="app-container">
        <!-- 顶部导航栏 -->
        <header id="app-header">
            <h1 id="page-title">宝宝记录</h1>
            <div class="header-actions">
                <button id="settings-btn" class="icon-btn">⚙️</button>
                <button id="add-btn" class="icon-btn">+</button>
            </div>
        </header>

        <!-- 主内容区域 -->
        <main id="main-content">
            <!-- 标签导航 -->
            <div id="tab-nav">
                <button class="tab-btn active" data-tab="dashboard">首页</button>
                <button class="tab-btn" data-tab="records">记录</button>
                <button class="tab-btn" data-tab="reminders">提醒</button>
                <button class="tab-btn" data-tab="music">音乐</button>
            </div>

            <!-- 页面内容 -->
            <div id="tab-content">
                <!-- 首页面板 -->
                <div id="dashboard" class="tab-panel active">
                    <!-- 今日概览 -->
                    <section class="stats-section">
                        <h2>今日概览</h2>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-icon">🍼</div>
                                <div class="stat-info">
                                    <div class="stat-value" id="feed-count">0</div>
                                    <div class="stat-label">喂奶次数</div>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon">💤</div>
                                <div class="stat-info">
                                    <div class="stat-value" id="sleep-duration">0h</div>
                                    <div class="stat-label">睡眠时长</div>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon">🌡️</div>
                                <div class="stat-info">
                                    <div class="stat-value" id="last-temperature">--.-°C</div>
                                    <div class="stat-label">最新体温</div>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon">🛁</div>
                                <div class="stat-info">
                                    <div class="stat-value" id="bath-count">0</div>
                                    <div class="stat-label">洗澡次数</div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- 最近记录 -->
                    <section class="recent-records">
                        <h2>最近记录</h2>
                        <div id="recent-records-list" class="records-list">
                            <div class="empty-state">
                                <p>暂无记录，点击下方按钮开始记录</p>
                            </div>
                        </div>
                    </section>
                </div>

                <!-- 记录面板 -->
                <div id="records" class="tab-panel">
                    <div class="record-types">
                        <button class="record-type-btn" data-type="feeding">🍼 喂奶记录</button>
                        <button class="record-type-btn" data-type="diaper">🧷 尿布记录</button>
                        <button class="record-type-btn" data-type="sleep">💤 睡眠记录</button>
                        <button class="record-type-btn" data-type="temperature">🌡️ 体温记录</button>
                        <button class="record-type-btn" data-type="bath">🛁 洗澡记录</button>
                        <button class="record-type-btn" data-type="medicine">💊 用药记录</button>
                    </div>
                    
                    <div id="records-container" class="records-container">
                        <!-- 记录表单将在这里动态生成 -->
                    </div>
                </div>

                <!-- 提醒面板 -->
                <div id="reminders" class="tab-panel">
                    <button id="add-reminder-btn" class="primary-btn">添加提醒</button>
                    <div id="reminders-list" class="reminders-list">
                        <div class="empty-state">
                            <p>暂无提醒，点击上方按钮添加</p>
                        </div>
                    </div>
                </div>

                <!-- 音乐面板 -->
                <div id="music" class="tab-panel">
                    <div class="music-player">
                        <div class="music-cover">
                            <img src="images/music-cover.jpg" alt="音乐封面">
                        </div>
                        <div class="music-info">
                            <h3 id="current-track">轻柔摇篮曲</h3>
                            <div class="music-controls">
                                <button id="prev-track" class="music-btn">⏮️</button>
                                <button id="play-pause" class="music-btn primary">▶️</button>
                                <button id="next-track" class="music-btn">⏭️</button>
                            </div>
                            <div class="volume-control">
                                <label for="volume-slider">音量</label>
                                <input type="range" id="volume-slider" min="0" max="1" step="0.1" value="0.7">
                            </div>
                        </div>
                    </div>
                    <div class="music-playlist">
                        <h3>音乐列表</h3>
                        <ul id="playlist">
                            <li class="playlist-item active" data-file="1.mp3">轻柔摇篮曲</li>
                            <li class="playlist-item" data-file="2.mp3">海浪白噪音</li>
                            <li class="playlist-item" data-file="3.mp3">雨声</li>
                            <li class="playlist-item" data-file="4.mp3">森林鸟鸣</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>

        <!-- 底部导航栏（移动设备） -->
        <nav id="bottom-nav">
            <a href="#" class="nav-item active" data-tab="dashboard">
                <span class="nav-icon">🏠</span>
                <span class="nav-label">首页</span>
            </a>
            <a href="#" class="nav-item" data-tab="records">
                <span class="nav-icon">📝</span>
                <span class="nav-label">记录</span>
            </a>
            <a href="#" class="nav-item" data-tab="reminders">
                <span class="nav-icon">⏰</span>
                <span class="nav-label">提醒</span>
            </a>
            <a href="#" class="nav-item" data-tab="music">
                <span class="nav-icon">🎵</span>
                <span class="nav-label">音乐</span>
            </a>
        </nav>

        <!-- 添加记录的浮动按钮 -->
        <button id="floating-add-btn" class="floating-btn">+</button>
    </div>

    <!-- 模态框容器 -->
    <div id="modal-container" class="modal-container">
        <div id="modal" class="modal">
            <div class="modal-header">
                <h2 id="modal-title">添加记录</h2>
                <button id="close-modal" class="close-btn">✕</button>
            </div>
            <div id="modal-content" class="modal-content">
                <!-- 模态框内容将在这里动态生成 -->
            </div>
        </div>
    </div>

    <!-- 引入JavaScript文件 -->
    <script src="js/app.js"></script>
    <script src="js/records.js"></script>
    <script src="js/reminders.js"></script>
    <script src="js/music.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/utils.js"></script>
    
    <!-- 注册Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/baby_tracker/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker 注册成功:', registration.scope);
                    })
                    .catch(error => {
                        console.log('Service Worker 注册失败:', error);
                    });
            });
        }
    </script>
</body>
</html>